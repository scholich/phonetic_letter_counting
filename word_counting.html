<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Word counter</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body> 
<script type="text/javascript">
    function calculate_letter_value(text){
        // text = text.replace(/\n/g, " ")  // replaces all newlines by spaces
        text = text.replace(/[\r\n]+/g," ") // replaces subsequent newlines by only one space
        text = text.replace(/[ ]+/g," ") // replaces subsequent spaces by only one space
        var res = text.split(" "); 
        var length = res.length;
        return length;
    }
</script>
<form oninput="x.value=calculate_letter_value(textbox.value);" 
        onsubmit="x.value=calculate_letter_value(textbox.value);return false;">
    Sentence: <br>
    <textarea rows="5" name="textbox" cols="70">
    </textarea>
    Count: <output name="x" for="sentence"></output>
</form>
</body>
</html>